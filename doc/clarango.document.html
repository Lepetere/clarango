<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>clarango.document documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clarango</span> <span class="project-version">0.7.1</span></span></a></h1></div><div class="sidebar primary"><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clarango</span></div></div></li><li class="depth-2 branch"><a href="clarango.collection.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>collection</span></div></a></li><li class="depth-2 branch"><a href="clarango.collection-ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>collection-ops</span></div></a></li><li class="depth-2 branch"><a href="clarango.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="clarango.database.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>database</span></div></a></li><li class="depth-2 branch current"><a href="clarango.document.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>document</span></div></a></li><li class="depth-2 branch"><a href="clarango.graph.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>graph</span></div></a></li><li class="depth-2 branch"><a href="clarango.index.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>index</span></div></a></li><li class="depth-2 branch"><a href="clarango.misc.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>misc</span></div></a></li><li class="depth-2 branch"><a href="clarango.query.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>query</span></div></a></li><li class="depth-2 branch"><a href="clarango.transaction.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transaction</span></div></a></li><li class="depth-2 branch"><a href="clarango.user.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>user</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utilities</span></div></div></li><li class="depth-3 branch"><a href="clarango.utilities.core-utility.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core-utility</span></div></a></li><li class="depth-3 branch"><a href="clarango.utilities.http-utility.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http-utility</span></div></a></li><li class="depth-3"><a href="clarango.utilities.uri-utility.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>uri-utility</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clarango.document.html#var-create"><div class="inner"><span>create</span></div></a></li><li class="depth-1"><a href="clarango.document.html#var-create-with-key"><div class="inner"><span>create-with-key</span></div></a></li><li class="depth-1"><a href="clarango.document.html#var-delete-by-example"><div class="inner"><span>delete-by-example</span></div></a></li><li class="depth-1"><a href="clarango.document.html#var-delete-by-key"><div class="inner"><span>delete-by-key</span></div></a></li><li class="depth-1"><a href="clarango.document.html#var-delete-by-keys"><div class="inner"><span>delete-by-keys</span></div></a></li><li class="depth-1"><a href="clarango.document.html#var-get-by-example"><div class="inner"><span>get-by-example</span></div></a></li><li class="depth-1"><a href="clarango.document.html#var-get-by-key"><div class="inner"><span>get-by-key</span></div></a></li><li class="depth-1"><a href="clarango.document.html#var-get-by-keys"><div class="inner"><span>get-by-keys</span></div></a></li><li class="depth-1"><a href="clarango.document.html#var-get-first-by-example"><div class="inner"><span>get-first-by-example</span></div></a></li><li class="depth-1"><a href="clarango.document.html#var-get-info"><div class="inner"><span>get-info</span></div></a></li><li class="depth-1"><a href="clarango.document.html#var-replace-by-example"><div class="inner"><span>replace-by-example</span></div></a></li><li class="depth-1"><a href="clarango.document.html#var-replace-by-key"><div class="inner"><span>replace-by-key</span></div></a></li><li class="depth-1"><a href="clarango.document.html#var-update-by-example"><div class="inner"><span>update-by-example</span></div></a></li><li class="depth-1"><a href="clarango.document.html#var-update-by-key"><div class="inner"><span>update-by-key</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clarango.document</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-create"><h3>create</h3><div class="usage"><code>(create document &amp; args)</code></div><div class="doc"><pre class="plaintext">Creates a document.

First argument: A map that represents the document.
If you want to specify a key by yourself, add it as the :_key parameter to the document map or use method create-with-key.
If you would like the key to be created automatically, just leave this parameter out.

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{&apos;createCollection&apos; true/false, &apos;waitForSync&apos; true/false} (replace the single quotes with double quotes)
- createCollection meaning if the collection should be created if it does not exist yet;
- waitForSync meaning if the server response should wait until the document is saved to disk;
The option map might be passed in an arbitrary position after the first argument.</pre></div></div><div class="public anchor" id="var-create-with-key"><h3>create-with-key</h3><div class="usage"><code>(create-with-key document key &amp; args)</code></div><div class="doc"><pre class="plaintext">Creates a document with a given key.

First argument: A map that represents the document.
Second argument: The key for the new document (string or clojure keyword).

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{&apos;createCollection&apos; true/false, &apos;waitForSync&apos; true/false} (replace the single quotes with double quotes)
- createCollection meaning if the collection should be created if it does not exist yet;
- waitForSync meaning if the server response should wait until the document is saved to disk;
The option map might be passed in an arbitrary position after the first argument.</pre></div></div><div class="public anchor" id="var-delete-by-example"><h3>delete-by-example</h3><div class="usage"><code>(delete-by-example example &amp; args)</code></div><div class="doc"><pre class="plaintext">Deletes a document or a number of documents out of a collection by giving an example to match.

Takes the example as a map as first argument.

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{&apos;waitForSync&apos; true/false, &apos;limit&apos; limit} (replace the single quotes with double quotes)
- waitForSync meaning if the server response should wait until the document is saved to disk
- limit meaning the maximum amount of documents that will be deleted
The option map might be passed in an arbitrary position after the first two arguments.</pre></div></div><div class="public anchor" id="var-delete-by-key"><h3>delete-by-key</h3><div class="usage"><code>(delete-by-key &amp; args)</code></div><div class="doc"><pre class="plaintext">Deletes a document by its id.

Takes the document key as first argument.

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{&apos;waitForSync&apos; true/false, &apos;rev&apos; revision_id, &apos;policy&apos; &apos;error/last&apos;} (replace the single quotes with double quotes)
- waitForSync meaning if the server response should wait until the document is saved to disk;
- rev is the document revision
- policy meanins the desired behaviour in case the given revision number does not match the latest document revision
  -&gt; &apos;error&apos; meaning that an error is thrown if the given revision_id does not match the revision_id in the document
  -&gt; &apos;last&apos; meaning the document is still deleted even if the given revision_id does not match the revision_id in the document
The option map might be passed in an arbitrary position after the first argument.</pre></div></div><div class="public anchor" id="var-delete-by-keys"><h3>delete-by-keys</h3><div class="usage"><code>(delete-by-keys keys &amp; args)</code></div><div class="doc"><pre class="plaintext">Deletes a number of documents in a single request.

Takes a vector of keys to delete as first argument.

Optionally takes a collection name and a db as further arguments.
If omitted the default db and collection will be used.</pre></div></div><div class="public anchor" id="var-get-by-example"><h3>get-by-example</h3><div class="usage"><code>(get-by-example example &amp; args)</code></div><div class="doc"><pre class="plaintext">Gets a document or a number of documents out of a collection by giving an example to match.

Takes the example as a map as first argument.

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{&apos;skip&apos; skip, &apos;limit&apos; limit} (replace the single quotes with double quotes)
- skip meaning the (number of?) documents to skip in the result
- limit meaning the maximum amount of documents to return
The option map might be passed in an arbitrary position after the first two arguments.</pre></div></div><div class="public anchor" id="var-get-by-key"><h3>get-by-key</h3><div class="usage"><code>(get-by-key &amp; args)</code></div><div class="doc"><pre class="plaintext">Gets a document by its key.

Takes the document key as first argument.

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{&apos;rev&apos; revision_id} (replace the single quotes with double quotes)
- rev is the document revision; if the current document revision_id does not match the given one, an error is thrown
The option map might be passed in an arbitrary position after the first two arguments.</pre></div></div><div class="public anchor" id="var-get-by-keys"><h3>get-by-keys</h3><div class="usage"><code>(get-by-keys keys &amp; args)</code></div><div class="doc"><pre class="plaintext">Gets a number of documents in a single request.

Takes a vector of keys as first argument.

Optionally takes a collection name and a db as further arguments.
If omitted the default db and collection will be used.</pre></div></div><div class="public anchor" id="var-get-first-by-example"><h3>get-first-by-example</h3><div class="usage"><code>(get-first-by-example example &amp; args)</code></div><div class="doc"><pre class="plaintext">Gets the first document out of a collection that matches an example.

Takes the example as a map as first argument.

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.</pre></div></div><div class="public anchor" id="var-get-info"><h3>get-info</h3><div class="usage"><code>(get-info &amp; args)</code></div><div class="doc"><pre class="plaintext">Gets information about a document by its key.

Takes the document key as first argument.

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{&apos;rev&apos; revision_id, &apos;policy&apos; &apos;error/last&apos;} (replace the single quotes with double quotes)
- rev is the document revision
- policy meaning the desired behaviour in case the given revision number does not match the latest document revision
  -&gt; &apos;error&apos; meaning that an error is thrown if the given revision_id does not match the revision_id in the document
  -&gt; &apos;last&apos; meaning the document is still returned even if the given revision_id does not match the revision_id in the document
The option map might be passed in an arbitrary position after the first two arguments.</pre></div></div><div class="public anchor" id="var-replace-by-example"><h3>replace-by-example</h3><div class="usage"><code>(replace-by-example new-document example &amp; args)</code></div><div class="doc"><pre class="plaintext">Replaces a document or a number of documents out of a collection by giving an example to match.

First argument: A map representing the new document.
Second argument: The example map.

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{&apos;waitForSync&apos; true/false, &apos;limit&apos; limit} (replace the single quotes with double quotes)
- waitForSync meaning if the server response should wait until the document is saved to disk
- limit meaning the maximum amount of documents that will be replaced
The option map might be passed in an arbitrary position after the first two arguments.</pre></div></div><div class="public anchor" id="var-replace-by-key"><h3>replace-by-key</h3><div class="usage"><code>(replace-by-key new-document &amp; args)</code></div><div class="doc"><pre class="plaintext">Replaces a document with a map representing the new document.

First argument: A map representing the new document.
Second argument: The document key.

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{&apos;waitForSync&apos; true/false, &apos;rev&apos; revision_id, &apos;policy&apos; &apos;error/last&apos;} (replace the single quotes with double quotes)
- waitForSync meaning if the server response should wait until the document is saved to disk
- rev is the document revision
- policy meanins the desired behaviour in case the given revision number does not match the latest document revision
  -&gt; &apos;error&apos; meaning that an error is thrown if the given revision_id does not match the revision_id in the document
  -&gt; &apos;last&apos; meaning the document is still replaced even if the given revision_id does not match the revision_id in the document
The option map might be passed in an arbitrary position after the first two arguments.</pre></div></div><div class="public anchor" id="var-update-by-example"><h3>update-by-example</h3><div class="usage"><code>(update-by-example document-properties example &amp; args)</code></div><div class="doc"><pre class="plaintext">Updates a document or a number of documents out of a collection by giving an example to match.

First argument: A map containing the new key/value pairs.
Second argument: The example map.

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{&apos;waitForSync&apos; true/false, &apos;limit&apos; limit, &apos;keepNull&apos; true/false} (replace the single quotes with double quotes)
- waitForSync meaning if the server response should wait until the document is saved to disk
- limit meaning the maximum amount of documents that will be updated
- keepNull meaning if the key/value pair should be deleted in the document
The option map might be passed in an arbitrary position after the first two arguments.</pre></div></div><div class="public anchor" id="var-update-by-key"><h3>update-by-key</h3><div class="usage"><code>(update-by-key document-properties &amp; args)</code></div><div class="doc"><pre class="plaintext">Updates a document with a number of key value pairs. Inserts them into the existing document.

First argument: A map containing the new key/value pairs.
Second argument: The document key.

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{&apos;waitForSync&apos; true/false, &apos;keepNull&apos; true/false, &apos;rev&apos; revision_id, &apos;policy&apos; &apos;error/last&apos;} (replace the single quotes with double quotes)
- waitForSync meaning if the server response should wait until the document is saved to disk;
- keepNull meaning if the key/value pair should be deleted in the document
  if the argument map contains it with a null as value;
- rev is the document revision
- policy meanins the desired behaviour in case the given revision number does not match the latest document revision
  -&gt; &apos;error&apos; meaning that an error is thrown if the given revision_id does not match the revision_id in the document
  -&gt; &apos;last&apos; meaning the document is still updated even if the given revision_id does not match the revision_id in the document
The option map might be passed in an arbitrary position after the first two arguments.</pre></div></div></div></body></html>